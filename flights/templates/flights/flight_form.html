{% load static %}
{% load widget_tweaks %}

<div class="form-group">
  <div class="input-group-sm">
    {{ form.date.errors }}
    {{ form.date |attr:"autocomplete:off" |attr:"placeholder:Date *" |add_class:"form-control"}}
  </div>
</div>
<div class="form-group">
  <div class="input-group-sm">
  {{ form.aircraft_type.errors }}
  {{ form.aircraft_type |add_class:"form-control"}}
  <div><a target="new" href="{% url 'aircraft_create' %}"> New Aircraft</a></div>

  </div>
</div>
  <div class="form-group">
  <div class="input-group-sm">
    {{ form.registration.errors }}
    {{ form.registration |add_class:"form-control"}}
    <div><a target="new" href="{% url 'tailnumber_create' %}"> New Tailnumber</a></div>
  </div>
</div>
<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">Route</label>
    {{ form.route.errors }}
    {{ form.route |attr:"id:route" |attr:"autocomplete:off" |attr:"placeholder:XXX-XXXX-*" |add_class:"form-control"}}
    <small class="form-text text-muted">Use ATA or ICAO and space between to autoformat</small>
  </div>
</div>

<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">Legs*</label>
    {{ form.legs.errors }}
    {{ form.legs |attr:"autocomplete:off" |add_class:"form-control"}}
    <small class="form-text text-muted"></small>
  </div>
</div>

<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">Duration</label>
    {{ form.duration.errors }}
    {{ form.duration |attr:"placeholder:X.X" |add_class:"form-control"}}
    <small class="form-text text-muted">Positive number greater than .1</small>
  </div>
</div>
<div class="form-group form-inline">
  <div class="row">
    <div class="m-4">
      {{ form.pilot_in_command |attr:"id:pic" |add_class:"form-control exclcb"}} PIC
    </div>
    <div class="m-4">
      {{ form.second_in_command |attr:"id:sic" |add_class:"form-control exlcb"}} SIC
    </div>
    <div class="m-4">
      {{ form.solo |attr:"id:solo" |add_class:"form-control solo"}} Solo
    </div>
    <div class="m-4">
      {{ form.dual |attr:"id:dual" |add_class:"form-control dual"}} Dual
    </div>
    <div class="m-4">
      {{ form.instructor |attr:"id:cfi" |add_class:"form-control"}} CFI
    </div>
    <div class="m-4">
      {{ form.simulator |add_class:"form-control"}} Sim
    </div>
    <div class="m-4">
      {{ form.cross_country |add_class:"form-control"}} XCountry
    </div>
  </div>
</div>
<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">Day Landings</label>
  {{ form.landings_day |add_class:"form-control"}}
  </div>
</div>
<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">Night Landings</label>
  {{ form.landings_night |add_class:"form-control"}}
  </div>
</div>
<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">Night</label>
  {{ form.night |add_class:"form-control"}}
  </div>
</div>
<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">IFR</label>
  {{ form.instrument |add_class:"form-control"}}
  </div>
</div>
<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">Simulated IFR</label>
  {{ form.simulated_instrument |add_class:"form-control"}}
  </div>
</div>
<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">Approaches</label>
    <div  id="approach_form" class="form-control pl-4 pt-2">
      {% for formset in inlines %}
        <table>
          {% for form in formset %}
            {{ form.id }}
              {{ form.errors }}
                <tr>
                  <td>{{ form.approach_type }}</td>
                  <td>{{ form.number }}</td>
                  <td>{% if form.instance.pk %}{{ form.DELETE }}{% endif %}</td>
                </tr>
          {% endfor %}
        </table>
          {{ formset.management_form }}
      {% endfor %}
    </div>
  </div>
</div>
<!-- holding formset goes here from scratch.txt -->
<div class="form-group">
  <div class="input-group-sm">
    <label class="text-muted">Remarks</label>
    {{ form.remarks |add_class:"form-control"}}
    <small class="form-text text-muted">500 char limit</small>
  </div>
</div>

<script src="{% static 'flights/jquery.formset.js' %}"></script>
<script type="text/javascript">
    $(function() {
        $('#approach_form table tr').formset({
            prefix: 'approach_set',
            formCssClass: 'approach-formset'
        });
    })
</script>
{{ form.media }}
