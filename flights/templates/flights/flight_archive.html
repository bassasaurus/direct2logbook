{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
<!-- control_loading -->
<script src="{% static 'flights/control_loading.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'flights/control_loading.css' %}">
<!-- conditionalLayer -->
<script src="{% static 'flights/leaflet-conditionalLayer.js' %}"></script>

{% if not date_list %}
  <div class="page-header">
    <h3>No flights yet, start <a href="{% url 'flight_create' %}">here</a>.<h3>
  </div>
  <div class="row">
    <div class="col col-lg-12 col-md-12 col-sm-12"></div>
    <div class="image-shadow"id="mapid"></div>
  </div>
{% else %}

    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12">
        {% for date in date_list %}
            <a style="margin-top: 5px;" href="/flights/by_date/{{ date|date:'Y' }}" class="btn btn-outline-secondary">{{ date|date:"Y" }}</a>
        {% endfor %}
      </div>
    </div>
    <div style="height: 20px; width: 100%;"></div>

    <!-- <div id="mapid" class="col col-lg-12 col-md-12 col-sm-12 image-shadow custom-popup">
      <script src="{% static 'flights/leaflet-geodesic.js' %}"></script>
      <script src="{% static 'flights/js/leaflet_config.js' %}"></script>
      
    </div> -->
  {% endif %}


{% endblock %}
