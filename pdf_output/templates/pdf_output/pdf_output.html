{% load flights_filters %}

<style>

  @page {
      size: letter landscape;
      margin: 1cm;
  }

  html{
    text-decoration-style: 'Helvetica, sans-serif';
  }

  th{
    border: 1px solid darkgray;
    vertical-align: center;
    background-color: lightgray;
    height: 50px;

  }
  td{
    padding: 3px;
    border: 1px solid #ddd;
    vertical-align: bottom;
  }

  .text{
    text-align: left;
  }
  .number{
    text-align: right;
    width: 10px;
  }

  .center{
    text-align: center;
  }

  #flight tr:nth-child(even){
    background-color: #f2f2f2;
  }

</style>

<table id="flight" >

{% for flight in flights %}
  {% if forloop.first or forloop.counter|divisibleby:24 %}
    <thead class="">
      <tr>
        <th class="text">Date</th>
        <th class="text">Type</th>
        <th class="text">Reg</th>
        <th class="text">Route</th>
        <th colspan="2" class="number">Duration</th>
        <th class="number">PIC</th>
        <th class="number">SIC</th>
        <th class="number">X Country</th>
        <th class="number">Night</th>
        <th class="number">Inst</th>
        <th class="center">Appr</th>
        <th class="number">Day Ldg</th>
        <th class="number">Night Ldg</th>
        <th class="number">Sim Inst</th>
        <th class="number">CFI</th>
        <th class="number">Dual</th>
        <th class="number">Solo</th>
      </tr>
      <tr>
        <td colspan="4"></td>
        <td class="number">Multi</td>
        <td class="number">Single</td>
        <td colspan="12"></td>
      </tr>
    </thead>
{% endif %}
    <tbody>

        <tr>
            <td style="width: 90px;" class="text">{{flight.date|date:"m/d/Y"}}</td>
            <td style="width: 50px;" class="text">{{flight.aircraft_type}}</td>
            <td class="text">{{flight.registration}}</td>
            <td style="width: 200px;" class="center">{{flight.route}}</td>
            <td class="number">{{flight.duration}}</td>
            <td class="number">-</td>
            {% if flight.pilot_in_command %}
              <td class="number">{{flight.duration}}</td>
            {% else %}
              <td class="number">-</td>
            {% endif %}
            {% if flight.second_in_command %}
              <td class="number">{{flight.duration}}</td>
            {% else %}
              <td class="number">-</td>
            {% endif %}
            {% if flight.cross_country %}
              <td class="number">{{flight.duration}}</td>
            {% else %}
              <td class="number">-</td>
            {% endif %}
            <td class="number">{{flight.night|default:"-"}}</td>
            <td class="number">{{flight.instrument|default:"-"}}</td>
            <td style="width: 80px;"class="center">{{flight.approaches|default:"-"}}</td>
            <td class="number">{{flight.landings_day|default:"-"}}</td>
            <td class="number">{{flight.landings_night|default:"-"}}</td>
            <td class="number">{{simulated_instrument|iconbool}}</td>
            {% if flight.instructor %}
              <td class="number">{{flight.duration}}</td>
            {% else %}
              <td class="number">-</td>
            {% endif %}
            {% if flight.dual %}
              <td class="number">{{flight.duration}}</td>
            {% else %}
              <td class="number">-</td>
            {% endif %}
            {% if flight.solo %}
              <td class="number">{{flight.duration}}</td>
            {% else %}
              <td class="number">-</td>
            {% endif %}
        </tr>
      {% endfor %}
        <tr>
          <td style="border: 0px;" colspan="3"></td>
          <td>This Page</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
        </tr>
        <tr>
          <td style="border: 0px;" colspan="3"></td>
          <td>Previous</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
        </tr>
        <tr>
          <td style="border: 0px;"colspan="3"></td>
          <td>Total</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
          <td class="number">-</td>
        </tr>
    </tbody>
  </table>
